---
title: "index.Rmd"
output: html_document
---

```{r,message = FALSE, echo = FALSE, error = FALSE}
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(data.table)
knitr::opts_chunk$set(echo = FALSE)
```

```{r setup, include=FALSE,message = FALSE, echo = FALSE, error = FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r,message = FALSE, echo = FALSE, error = FALSE}
load("~/GitHub/COVID-19/raw_data/us_state_confirmed_case.RData")
mich_data <- filter(x,NAME %in% c("Michigan","Florida","New York"))
mich_data_tall <- melt(as.data.table(mich_data),measure.vars = seq(13,208,by = 1),variable.name = "Date", value.name = "Cases") %>% arrange(desc(NAME))
ggplot(mich_data_tall,aes(x = Date,y = Cases,group = NAME,color = factor(NAME))) + geom_point() + geom_smooth()
mich_data_tall_dir <- mutate(mich_data_tall,Cases = lead(Cases) - Cases) %>% filter(Cases > -1000 & Cases  < 10000)
ggplot(mich_data_tall_dir,aes(x = Date,y = Cases,group = NAME,color = factor(NAME))) + geom_point() + geom_smooth()
```